-- CREARE TABELE

CREATE TABLE PRODUSE (
	ID_PRODUS NUMBER(3) PRIMARY KEY,
	ID_PRODUCATOR NUMBER(3),
	ID_MARIME NUMBER(3),
	NUME_PRODUS VARCHAR2(30),
	PRET_PRODUS NUMBER(4)
);

CREATE TABLE MARIME (
	ID_MARIME NUMBER(3) PRIMARY KEY,
	NUME_MARIME VARCHAR2(30)
);

CREATE TABLE PRODUCATOR (
	ID_PRODUCATOR NUMBER(3) PRIMARY KEY,
	ID_DEPOZIT NUMBER(3),
	ID_PRODUS NUMBER(3),
	NUME_PRODUCATOR VARCHAR2(30),
	ID_CATEGORIE NUMBER(3)
);

CREATE TABLE DEPOZIT (
	ID_DEPOZIT NUMBER(3) PRIMARY KEY,
	ID_PRODUCATOR NUMBER(3),
	NUME_DEPOZIT VARCHAR2(30),
	LOCATIE_DEPOZIT VARCHAR2(30)
);

CREATE TABLE RAND_COMANDA (
	ID_COMANDA NUMBER(3),
	ID_PRODUS NUMBER(3),
	CANTITATE NUMBER(5),
	COST NUMBER(7)
);

CREATE TABLE COMANDA (
	ID_COMANDA NUMBER(3) PRIMARY KEY,
	ID_CLIENT NUMBER(3),
	DATA DATE,
	MODALITATEA VARCHAR2(30),
	PLATA VARCHAR2(30)
);


CREATE TABLE CLIENTI (
	ID_CLIENT NUMBER(3) PRIMARY KEY,
	NUME_CLIENT VARCHAR2(30),
	NUMAR_TELEFON VARCHAR2(30),
	EMAIL VARCHAR2(30),
	SEX VARCHAR2(30)
);

CREATE TABLE CATEGORIE (
	ID_CATEGORIE NUMBER(3) PRIMARY KEY,
	NUME_CATEGORIE VARCHAR2(30)
);

-- ADAUGARE CONSTRAINTS CU AJUTORUL ALTER

ALTER TABLE PRODUSE ADD CONSTRAINT PRODUSE_fk0 FOREIGN KEY (ID_PRODUCATOR) REFERENCES PRODUCATOR(ID_PRODUCATOR);
ALTER TABLE PRODUSE ADD CONSTRAINT PRODUSE_fk1 FOREIGN KEY (ID_MARIME) REFERENCES MARIME(ID_MARIME);


ALTER TABLE PRODUCATOR ADD CONSTRAINT PRODUCATOR_fk0 FOREIGN KEY (ID_DEPOZIT) REFERENCES DEPOZIT(ID_DEPOZIT);
ALTER TABLE PRODUCATOR ADD CONSTRAINT PRODUCATOR_fk1 FOREIGN KEY (ID_PRODUS) REFERENCES PRODUSE(ID_PRODUS);
ALTER TABLE PRODUCATOR ADD CONSTRAINT PRODUCATOR_fk2 FOREIGN KEY (ID_CATEGORIE) REFERENCES CATEGORIE(ID_CATEGORIE);

ALTER TABLE DEPOZIT ADD CONSTRAINT DEPOZIT_fk0 FOREIGN KEY (ID_PRODUCATOR) REFERENCES PRODUCATOR(ID_PRODUCATOR);

ALTER TABLE RAND_COMANDA ADD CONSTRAINT RAND_COMANDA_fk0 FOREIGN KEY (ID_COMANDA) REFERENCES COMANDA(ID_COMANDA);
ALTER TABLE RAND_COMANDA ADD CONSTRAINT RAND_COMANDA_fk1 FOREIGN KEY (ID_PRODUS) REFERENCES PRODUSE(ID_PRODUS);

ALTER TABLE COMANDA ADD CONSTRAINT COMANDA_fk0 FOREIGN KEY (ID_CLIENT) REFERENCES CLIENTI(ID_CLIENT);

-- DROP TABELE

DROP TABLE CATEGORIE CASCADE CONSTRAINTS;
DROP TABLE CLIENTI CASCADE CONSTRAINTS;
DROP TABLE COMANDA CASCADE CONSTRAINTS;
DROP TABLE DEPOZIT CASCADE CONSTRAINTS;
DROP TABLE MARIME CASCADE CONSTRAINTS;
DROP TABLE PRODUCATOR CASCADE CONSTRAINTS;
DROP TABLE PRODUSE CASCADE CONSTRAINTS;
DROP TABLE RAND_COMANDA CASCADE CONSTRAINTS;

-- INSERARE VALORI IN FIECARE TABELA

-- INSERARE VALORI IN CATEGORII
INSERT INTO CATEGORIE (ID_CATEGORIE, NUME_CATEGORIE) VALUES (101,'TRICOU');
INSERT INTO CATEGORIE (ID_CATEGORIE, NUME_CATEGORIE) VALUES (102,'PANTALONI');
INSERT INTO CATEGORIE (ID_CATEGORIE, NUME_CATEGORIE) VALUES (103,'GECI');
INSERT INTO CATEGORIE (ID_CATEGORIE, NUME_CATEGORIE) VALUES (104,'ADIDASI');
INSERT INTO CATEGORIE (ID_CATEGORIE, NUME_CATEGORIE) VALUES (105,'CAMASI');
INSERT INTO CATEGORIE (ID_CATEGORIE, NUME_CATEGORIE) VALUES (106,'PALTOANE');
INSERT INTO CATEGORIE (ID_CATEGORIE, NUME_CATEGORIE) VALUES (107,'SOSETE');
INSERT INTO CATEGORIE (ID_CATEGORIE, NUME_CATEGORIE) VALUES (108,'GENTI');
INSERT INTO CATEGORIE (ID_CATEGORIE, NUME_CATEGORIE) VALUES (109,'MANUSI');
INSERT INTO CATEGORIE (ID_CATEGORIE, NUME_CATEGORIE) VALUES (110,'PORTOFELE');
SELECT * FROM CATEGORIE;

-- INSERARE VALORI IN CLIENTI
INSERT INTO CLIENTI (ID_CLIENT, NUME_CLIENT, NUMAR_TELEFON, EMAIL, SEX) VALUES (201, 'VIRGIL', '0724742093', 'virgil@gmail.com', 'MASCULIN');
INSERT INTO CLIENTI (ID_CLIENT, NUME_CLIENT, NUMAR_TELEFON, EMAIL, SEX) VALUES (202, 'MITICA', '0738980002', 'mitica@gmail.com', 'MASCULIN');
INSERT INTO CLIENTI (ID_CLIENT, NUME_CLIENT, NUMAR_TELEFON, EMAIL, SEX) VALUES (203, 'IOSIF', '0764565635', 'iosif@gmail.com', 'MASCULIN');
INSERT INTO CLIENTI (ID_CLIENT, NUME_CLIENT, NUMAR_TELEFON, EMAIL, SEX) VALUES (204, 'NELU', '0749104450', 'nelu@gmail.com', 'MASCULIN');
INSERT INTO CLIENTI (ID_CLIENT, NUME_CLIENT, NUMAR_TELEFON, EMAIL, SEX) VALUES (205, 'COSTIN', '0713672811', 'costin@gmail.com', 'MASCULIN');
INSERT INTO CLIENTI (ID_CLIENT, NUME_CLIENT, NUMAR_TELEFON, EMAIL, SEX) VALUES (206, 'EMANUELA', '0731734676', 'emanuela@gmail.com', 'FEMININ');
INSERT INTO CLIENTI (ID_CLIENT, NUME_CLIENT, NUMAR_TELEFON, EMAIL, SEX) VALUES (207, 'MARIANA', '0753809027', 'mariana@gmail.com', 'FEMININ');
INSERT INTO CLIENTI (ID_CLIENT, NUME_CLIENT, NUMAR_TELEFON, EMAIL, SEX) VALUES (208, 'VIRGINIA', '0724098564', 'virginia@gmail.com', 'FEMININ');
INSERT INTO CLIENTI (ID_CLIENT, NUME_CLIENT, NUMAR_TELEFON, EMAIL, SEX) VALUES (209, 'OANA', '0741707891', 'oana@gmail.com', 'FEMININ');
INSERT INTO CLIENTI (ID_CLIENT, NUME_CLIENT, NUMAR_TELEFON, EMAIL, SEX) VALUES (210, 'DELIA', '0759449497', 'delia@gmail.com', 'FEMININ');
SELECT * FROM CLIENTI;

-- INSERARE VALORI IN COMANDA
INSERT INTO COMANDA (ID_COMANDA, ID_CLIENT, DATA, MODALITATEA, PLATA) VALUES (301, 210, TO_DATE('2/17/2018', ('MM/DD/YYYY')), 'ONLINE', 'CARD');
INSERT INTO COMANDA (ID_COMANDA, ID_CLIENT, DATA, MODALITATEA, PLATA) VALUES (302, 208, TO_DATE('3/9/2018', ('MM/DD/YYYY')), 'MAGAZIN', 'CARD');
INSERT INTO COMANDA (ID_COMANDA, ID_CLIENT, DATA, MODALITATEA, PLATA) VALUES (303, 204, TO_DATE('6/18/2018', ('MM/DD/YYYY')), 'MAGAZIN', 'NUMERAR');
INSERT INTO COMANDA (ID_COMANDA, ID_CLIENT, DATA, MODALITATEA, PLATA) VALUES (304, 206, TO_DATE('11/29/2018', ('MM/DD/YYYY')), 'ONLINE', 'RAMBURS');
INSERT INTO COMANDA (ID_COMANDA, ID_CLIENT, DATA, MODALITATEA, PLATA) VALUES (305, 203, TO_DATE('1/3/2019', ('MM/DD/YYYY')), 'MAGAZIN', 'NUMERAR');
INSERT INTO COMANDA (ID_COMANDA, ID_CLIENT, DATA, MODALITATEA, PLATA) VALUES (306, 202, TO_DATE('4/8/2019', ('MM/DD/YYYY')), 'ONLINE', 'CARD');
INSERT INTO COMANDA (ID_COMANDA, ID_CLIENT, DATA, MODALITATEA, PLATA) VALUES (307, 205, TO_DATE('4/22/2019', ('MM/DD/YYYY')), 'MAGAZIN', 'CARD');
INSERT INTO COMANDA (ID_COMANDA, ID_CLIENT, DATA, MODALITATEA, PLATA) VALUES (308, 206, TO_DATE('12/4/2019', ('MM/DD/YYYY')), 'MAGAZIN', 'NUMERAR');
INSERT INTO COMANDA (ID_COMANDA, ID_CLIENT, DATA, MODALITATEA, PLATA) VALUES (309, 202, TO_DATE('12/9/2019', ('MM/DD/YYYY')), 'MAGAZIN', 'CARD');
INSERT INTO COMANDA (ID_COMANDA, ID_CLIENT, DATA, MODALITATEA, PLATA) VALUES (310, 208, TO_DATE('8/15/2020', ('MM/DD/YYYY')), 'ONLINE', 'RAMBURS');
SELECT * FROM COMANDA;